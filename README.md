# Задача
Написать микросервис работы с гостями используя язык программирования php, можно пользоваться любыми opensource пакетами, также возможно реализовать с использованием фреймворков или без них.

БД postgresql

Микросервис реализует API для CRUD операций над гостем. То есть принимает данные для создания, изменения, получения, удаления записей гостей хранящихся в выбранной базе данных.

Сущность «Гость»: Имя, фамилия и телефон — обязательные поля. А поля телефон и email уникальны. В итоге у гостя должны быть следующие атрибуты: идентификатор, имя, фамилия, email, телефон, страна.

Если страна не указана, то доставать страну из номера телефона +7 - Россия и т.д.

Микросервис должен запускаться в Docker.

В ответах сервера должны присутствовать два заголовка X-Debug-Time и X-Debug-Memory, которые указывают сколько миллисекунд выполнялся запрос и сколько Кб памяти потребовалось соответственно.

## Общая информация
Сервис представляет собой API, реализующий CRUD-операции, а так-же предоставляющий информацию о времени выполнения запроса и затраченном объеме ОЗУ.
Для документирования методов использован фреймворк Swagger.
Проект реализован на базе докер-контейнера и фреймворка Laravel 10, имеет пошаговую инструкцию по тестированию приложения.

## 0. Подготовка

Находясь в нужной директории, клонируем репозиторий на компьютер с помощью команды:

```git clone git@github.com:Longin89/WeRent-test.git```

После этого, переходим в папку

```WeRent-test```

## 1. Установка

Для начала нужно скачать все необходимое для  контейнера командой:

```docker-compose build```

После этого поднимем сервисы с помощью:

```docker-compose up -d```

Далее, нужно зайти в файловую систему контейнера:

```docker exec -it -i php /bin/bash```

В папку ```src```

```cd src ```

Чтобы установить зависимости командой:

```composer install```

После завершения установки в браузерной строке нужно перейти по адресу

```http://localhost```

Чтобы убедится, что Laravel работает

![Laravel](/screenshots/1.jfif)

#### Внимание: если страница Laravel не отображается - проверьте наличие полных прав на папку проекта и обновите страницу.
В Ubuntu, например, самый простой способ это сделать - ввести команду

```sudo chmod -R 777 '/папка_проекта/'```

## 2. Миграция базы данных

Там-же, в файловой системе контейнера введите команду

```php artisan migrate```

для миграции тестовой базы данных.

Проверить результат (помимо логов) можно с помощью pgAdmin (база данных guests), находящемуся по адресу:

```http://localhost:8080```

E-mail для входа: ```test@gmail.com```

Пароль: ```root```

Пароль для подключения к БД: ```pass```

### Дальнейшее описание появится здесь 05.12.24, не позднее 19:00